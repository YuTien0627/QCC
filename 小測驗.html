<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCC çŸ¥è­˜æŒ‘æˆ° - äº’å‹•æŒ‡å—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Noto+Sans+TC:wght@500;700;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
                    },
                    colors: {
                        'primary-pink': '#F472B6',
                        'secondary-purple': '#A78BFA',
                        'goal-green': '#34D399',
                        'issue-red': '#F87171',
                        'bg-paper': '#ecfdf5',
                        'card-yellow': '#FFF9C4'
                    }
                }
            }
        }
    </script>
    <style>
        body { 
            font-family: 'Inter', 'Noto Sans TC', sans-serif; 
            background-color: transparent; 
            margin: 0;
            padding: 0;
            color: #1e293b;
            overflow-x: hidden;
        }
        
        /* ç¹¼æ‰¿å·¥å…·å¤§ç¦®åŒ…çš„å¡ç‰‡é¢¨æ ¼ */
        .guide-card {
            background-color: white;
            border-radius: 2rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid #e2e8f0;
        }
        .guide-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            border-color: #0d9488;
        }

        .answer-option {
            transition: all 0.3s;
            cursor: pointer;
            border: 2px solid #e2e8f0;
            background: white;
        }
        .answer-option:hover:not(.disabled) {
            transform: translateX(6px);
            border-color: #0d9488;
            background-color: #f0fdfa;
        }
        .disabled { pointer-events: none; }

        /* æ­£ç¢º/éŒ¯èª¤å‹•ç•« */
        .correct-blink { animation: correctBlink 0.5s ease-in-out 2; }
        @keyframes correctBlink { 0%,100% {background-color:#d1fae5; border-color:#10b981;} 50% {background-color:#6ee7b7; border-color:#059669;} }
        
        .incorrect-shake { animation: incorrectShake 0.4s ease-in-out; }
        @keyframes incorrectShake { 0%,100%{transform:translateX(0);} 20%,60%{transform:translateX(-6px);} 40%,80%{transform:translateX(6px);} }

        .fade-in { animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #last-updated-section { 
            margin-top: 4rem;
            padding-bottom: 2rem;
            text-align: center;
        }
    </style>
</head>
<body class="p-4 md:p-6 lg:p-10">

    <div id="app" class="max-w-7xl mx-auto">
        
        <!-- ã€å€å¡Šä¸€ï¼šå¼•å°æ¨™é ­ã€‘ -->
        <div id="toolkit-header" class="max-w-3xl mx-auto text-center mb-10 fade-in">
            <div class="inline-block px-4 py-1.5 mb-4 rounded-full bg-teal-100 text-teal-700 text-sm font-bold tracking-wide">
                QCC QUIZ
            </div>
            <h2 id="mainTitle" class="text-2xl md:text-3xl font-bold text-gray-800 mb-4 leading-tight">
                ğŸ› ï¸ QCC çŸ¥è­˜å°æ¸¬é©— ğŸ¯
            </h2>
            <p id="mainDesc" class="text-gray-600 text-sm">
                æœ¬æ¸¬é©—æ—¨åœ¨è©•ä¼°æ‚¨å°å“ç®¡å·¥å…·çš„ç­è§£ç¨‹åº¦ï¼Œå®Œæˆå¾Œå°‡æä¾›å®Œæ•´çš„ã€Œè½é»åˆ†æå ±å‘Šã€ã€‚
            </p>
        </div>

        <!-- ã€å€å¡ŠäºŒï¼šå…§å®¹ä¸»é«”å€ã€‘ -->
        <div id="main-content-area" class="relative transition-all duration-500">
            
            <!-- [è³‡æ–™è¼‰å…¥éŒ¯èª¤æç¤º] - ç•¶æ‰¾ä¸åˆ° quizData.js æ™‚é¡¯ç¤º -->
            <div id="dataErrorScreen" class="hidden max-w-2xl mx-auto bg-white border-2 border-red-100 p-12 rounded-[2.5rem] shadow-xl text-center fade-in">
                <div class="w-20 h-20 bg-red-50 text-red-500 rounded-3xl flex items-center justify-center mx-auto mb-6 text-4xl">âš ï¸</div>
                <h3 class="text-2xl font-black text-gray-800 mb-4">å°šæœªåµæ¸¬åˆ°é¡Œç›®æ•¸æ“š</h3>
                <p class="text-gray-500 mb-8 text-base leading-relaxed text-left bg-slate-50 p-6 rounded-2xl border border-slate-100">
                    ç›®å‰ç³»çµ±æ­£å˜—è©¦å¾å¤–éƒ¨æª”æ¡ˆè¼‰å…¥é¡Œç›®ï¼Œè«‹ç¢ºä¿ï¼š<br>
                    1. <span class="font-bold text-teal-600">quizData.js</span> æª”æ¡ˆå·²å»ºç«‹ã€‚<br>
                    2. è©²æª”æ¡ˆèˆ‡æ­¤ HTML æ”¾åœ¨<span class="font-bold">åŒä¸€å€‹è³‡æ–™å¤¾</span>ã€‚<br>
                    3. æª”æ¡ˆå…§å®¹å¿…é ˆæ­£ç¢ºå°å‡ºæ•¸æ“šï¼ˆExportï¼‰ã€‚
                </p>
                <div class="flex flex-col gap-3">
                    <button onclick="location.reload()" class="px-8 py-4 bg-teal-600 text-white rounded-2xl font-black hover:bg-teal-700 transition-all shadow-lg shadow-teal-100">
                        ğŸ”„ é‡æ–°æ•´ç†ä¸¦è¼‰å…¥
                    </button>
                    <p class="text-xs text-gray-400">â€» æç¤ºï¼šæœ¬é é¢éœ€åœ¨ä¼ºæœå™¨ç’°å¢ƒ (å¦‚ Live Server) ä¸‹æ–¹å¯è¼‰å…¥æ¨¡çµ„æª”æ¡ˆã€‚</p>
                </div>
            </div>

            <!-- [æ­¡è¿ç•«é¢ - é¡å‹é¸æ“‡] -->
            <div id="welcomeScreen" class="fade-in px-2">
                <div class="grid md:grid-cols-2 gap-8 lg:gap-12">
                    <div id="selectProblemType" class="guide-card p-10 cursor-pointer group relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-teal-50 rounded-full -mr-16 -mt-16 transition-all group-hover:bg-teal-100"></div>
                        <div class="relative z-10">
                            <div class="w-16 h-16 bg-teal-600 text-white rounded-2xl flex items-center justify-center mb-8 shadow-lg shadow-teal-200">
                                <span class="text-3xl">ğŸ§©</span>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-4">å•é¡Œè§£æ±ºå‹æŒ‘æˆ°</h3>
                            <p class="text-gray-500 leading-relaxed mb-8 h-12">é‡å°ã€Œç¾æœ‰ç¼ºå¤±ã€çš„æ”¹å–„æµç¨‹é€²è¡Œè©•ä¼°ï¼Œè€ƒé©—æ‚¨çš„é‚è¼¯åˆ†æåŠ›ã€‚</p>
                            <div class="flex items-center text-teal-600 font-bold group-hover:translate-x-2 transition-transform">
                                é–‹å§‹æŒ‘æˆ° â†’
                            </div>
                        </div>
                    </div>

                    <div id="selectSolutionType" class="guide-card p-10 cursor-pointer group relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-indigo-50 rounded-full -mr-16 -mt-16 transition-all group-hover:bg-indigo-100"></div>
                        <div class="relative z-10">
                            <div class="w-16 h-16 bg-indigo-600 text-white rounded-2xl flex items-center justify-center mb-8 shadow-lg shadow-indigo-200">
                                <span class="text-3xl">ğŸ’¡</span>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-800 mb-4">èª²é¡Œé”æˆå‹æŒ‘æˆ°</h3>
                            <p class="text-gray-500 leading-relaxed mb-8 h-12">é‡å°ã€Œæœªä¾†ç›®æ¨™ã€çš„è¦åŠƒèˆ‡å‰µæ–°é€²è¡Œæ¸¬é©—ï¼Œçœ‹æ‚¨çš„çœ¼ç•Œæœ‰å¤šé ã€‚</p>
                            <div class="flex items-center text-indigo-600 font-bold group-hover:translate-x-2 transition-transform">
                                é–‹å§‹æŒ‘æˆ° â†’
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- [æ¸¬é©—é€²åº¦é¡¯ç¤º] -->
            <div id="progressSection" class="max-w-4xl mx-auto mb-8 hidden fade-in">
                <div id="progressDisplay" class="flex justify-between items-end mb-2">
                    <span class="text-sm font-bold text-teal-700">æ¸¬é©—é€²è¡Œä¸­...</span>
                    <span id="scoreBadge" class="px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-xs font-bold shadow-sm">ç›®å‰å¾—åˆ†: 0 åˆ†</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5 overflow-hidden shadow-inner border border-gray-100">
                    <div id="progressBar" class="bg-gradient-to-r from-teal-500 to-indigo-500 h-full transition-all duration-500" style="width:0%"></div>
                </div>
            </div>

            <!-- [æ ¸å¿ƒæ¸¬é©—å¡ç‰‡] -->
            <div id="quizContainer" class="max-w-4xl mx-auto hidden fade-in">
                <div class="bg-white rounded-[2.5rem] shadow-xl border border-gray-100 p-8 md:p-12 mb-8 relative">
                    <p id="quizQuestion" class="text-2xl font-black text-gray-800 text-center mb-10 leading-relaxed">é¡Œç›®å…§å®¹</p>
                    <div id="quizOptions" class="grid grid-cols-1 gap-4"></div>
                    
                    <div id="quizFeedback" class="hidden mt-8 p-6 text-center rounded-2xl font-bold border-2 transition-all duration-300"></div>
                    
                    <button id="mainActionBtn" class="w-full mt-10 py-5 rounded-2xl bg-teal-600 text-white font-black text-xl shadow-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform active:scale-95 shadow-teal-100">
                        é€²è¡Œä¸‹ä¸€é¡Œ
                    </button>
                </div>
            </div>

            <!-- [æœ€çµ‚åˆ†æå ±å‘Š] -->
            <div id="resultContainer" class="max-w-5xl mx-auto hidden fade-in"></div>

        </div>

        <!-- é å°¾ -->
        <footer id="last-updated-section">
            <div id="last-updated-text" class="text-slate-400 text-sm italic">æœ€å¾Œæ›´æ–°æ™‚é–“ï¼šè¼‰å…¥ä¸­â€¦</div>
            <p class="text-slate-300 text-xs mt-2 italic">QCC çŸ¥è­˜è©•ä¼°ç³»çµ± &copy; 2025 Â· å¯¦è¸å“è³ªå“è¶Š</p>
        </footer>
    </div>

<script type="module">
    // ===== å…¨åŸŸè®Šæ•¸ =====
    let PROBLEM_DATA = [];
    let SOLUTION_DATA = [];
    
    let currentQuestions = [];
    let currentQuestionIndex = -1;
    let userScore = 0;
    let quizInProgress = false;
    let stepPerformance = {};
    let selectedQuizType = 'problem';
    let domRefs = {};

    /**
     * æ ¸å¿ƒå„ªåŒ–ï¼šæ›´å®‰å…¨åœ°å¾å¤–éƒ¨æª”æ¡ˆè¼‰å…¥æ•¸æ“š
     */
    async function loadQuizData() {
        try {
            // è™•ç†ç›¸å°è·¯å¾‘åœ¨ Blob ç’°å¢ƒä¸‹çš„å•é¡Œ
            let path = './quizData.js';
            if (window.location.protocol === 'blob:') {
                // åœ¨é è¦½ç’°å¢ƒä¸‹ï¼Œè‹¥ç„¡ä¼ºæœå™¨å‰‡ç„¡æ³•è®€å–å¤–éƒ¨ JS æ¨¡çµ„
                throw new Error("BlobEnvironmentDetected");
            }

            const module = await import(`${path}?v=${Date.now()}`);
            PROBLEM_DATA = module.PROBLEM_STEPS_DATA || [];
            SOLUTION_DATA = module.SOLUTION_STEPS_DATA || [];
            
            if (PROBLEM_DATA.length === 0 && SOLUTION_DATA.length === 0) throw new Error("EmptyData");
            
            return true;
        } catch (error) {
            console.error("è¼‰å…¥ quizData.js å¤±æ•—:", error.message);
            // é¡¯ç¤ºå¼•å°å¼çš„éŒ¯èª¤ç•«é¢
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('dataErrorScreen').classList.remove('hidden');
            reportHeight();
            return false;
        }
    }

    // ===== åˆå§‹åŒ–æ‡‰ç”¨ç¨‹å¼ =====
    async function initializeApp() {
        domRefs = {
            mainTitle: document.getElementById('mainTitle'),
            mainDesc: document.getElementById('mainDesc'),
            welcomeScreen: document.getElementById('welcomeScreen'),
            progressSection: document.getElementById('progressSection'),
            quizContainer: document.getElementById('quizContainer'),
            quizQuestion: document.getElementById('quizQuestion'),
            quizOptions: document.getElementById('quizOptions'),
            quizFeedback: document.getElementById('quizFeedback'),
            mainActionBtn: document.getElementById('mainActionBtn'),
            progressBar: document.getElementById('progressBar'),
            resultContainer: document.getElementById('resultContainer'),
            scoreBadge: document.getElementById('scoreBadge')
        };

        const success = await loadQuizData();
        if (!success) return;

        currentQuestionIndex = -1;
        userScore = 0;
        quizInProgress = false;
        stepPerformance = {};
        
        domRefs.mainTitle.innerHTML = 'ğŸ› ï¸ QCC çŸ¥è­˜å°æ¸¬é©— ğŸ¯';
        domRefs.welcomeScreen.classList.remove('hidden');
        domRefs.progressSection.classList.add('hidden');
        domRefs.quizContainer.classList.add('hidden');
        domRefs.resultContainer.classList.add('hidden');

        document.getElementById('selectProblemType').onclick = () => startQuiz('problem');
        document.getElementById('selectSolutionType').onclick = () => startQuiz('solution');

        domRefs.mainActionBtn.onclick = handleMainAction;
        
        syncParentUI();
        reportHeight();
        updateTime();
    }

    // ===== çˆ¶é é¢åŒæ­¥é‚è¼¯ =====
    function syncParentUI() {
        if (window.parent && window.parent !== window) {
            // å®‰å…¨è·¨ç¶²åŸŸé€šè¨Š
            window.parent.postMessage({
                type: 'qcc-sync-ui',
                navId: 'nav-btn-quiz',
                showTabs: '', 
                hideTabs: 'all'
            }, '*');

            try {
                if (typeof window.parent.activateNav === 'function') {
                    window.parent.activateNav('nav-btn-quiz');
                }
                const pToolTabs = window.parent.document.getElementById('tool-tabs');
                const pFormatTabs = window.parent.document.getElementById('format-tabs');
                if (pToolTabs) pToolTabs.classList.add('hidden');
                if (pFormatTabs) pFormatTabs.classList.add('hidden');
            } catch (e) {}

            // ç§»é™¤å†—é¤˜é å°¾
            const fs = document.getElementById('last-updated-section');
            if (fs) fs.remove(); 
        }
    }

    function reportHeight() {
        if (window.parent && window.parent !== window) {
            const h = document.body.scrollHeight;
            window.parent.postMessage({ type: 'resize', height: h + 100 }, '*');
            try {
                const pFrame = window.parent.document.getElementById('content-frame');
                if (pFrame) pFrame.style.height = (h + 100) + 'px';
            } catch (e) {}
        }
    }

    // ===== æ¸¬é©—é‚è¼¯ =====
    function startQuiz(quizType) {
        selectedQuizType = quizType;
        const data = quizType === 'problem' ? PROBLEM_DATA : SOLUTION_DATA;
        currentQuestions = data.flatMap(s => s.quiz);
        
        if (currentQuestions.length === 0) {
            alert("ç›®å‰é¡Œåº«ç‚ºç©ºï¼Œè«‹æª¢æŸ¥ quizData.js å…§å®¹ã€‚");
            return;
        }

        domRefs.mainTitle.innerHTML = quizType === 'problem' ? 'ğŸ§© QCC å•é¡Œè§£æ±ºå‹æŒ‘æˆ°' : 'ğŸ’¡ QCC èª²é¡Œé”æˆå‹æŒ‘æˆ°';
        domRefs.mainDesc.innerHTML = 'è«‹ä¾æ“šå¯¦å‹™ç¶“é©—ï¼Œé¸å‡ºæœ€æ­£ç¢ºçš„ç­”æ¡ˆã€‚åŠ æ²¹ï¼';
        
        domRefs.welcomeScreen.classList.add('hidden');
        domRefs.progressSection.classList.remove('hidden');
        domRefs.quizContainer.classList.remove('hidden');
        
        currentQuestionIndex = 0;
        quizInProgress = true;
        displayQuestion();
        reportHeight();
    }

    function displayQuestion() {
        const q = currentQuestions[currentQuestionIndex];
        const total = currentQuestions.length;
        const current = currentQuestionIndex + 1;
        
        domRefs.progressBar.style.width = `${(current/total)*100}%`;
        domRefs.quizQuestion.innerHTML = `<span class="text-teal-600 font-bold mb-2 block">[${q.step}]</span>${q.question}`;
        domRefs.quizOptions.innerHTML = '';
        
        q.options.forEach((opt, idx) => {
            const el = document.createElement('div');
            el.className = 'answer-option p-5 rounded-2xl flex items-center text-lg font-bold text-gray-700 shadow-sm';
            el.innerHTML = `<span class="inline-flex items-center justify-center w-10 h-10 bg-teal-50 text-teal-700 rounded-full mr-4 border-2 border-teal-100 font-black">${String.fromCharCode(65+idx)}</span> ${opt}`;
            el.dataset.index = idx;
            el.onclick = () => selectAnswer(idx, el, q);
            domRefs.quizOptions.appendChild(el);
        });
        
        domRefs.quizFeedback.classList.add('hidden');
        domRefs.mainActionBtn.disabled = true;
        domRefs.mainActionBtn.textContent = 'è«‹å…ˆé¸æ“‡ç­”æ¡ˆ';
        reportHeight();
    }

    function selectAnswer(idx, el, q) {
        const correct = idx === q.correctAnswerIndex;
        domRefs.quizOptions.querySelectorAll('.answer-option').forEach(opt => opt.classList.add('disabled', 'opacity-50'));
        
        const stepName = q.step;
        if (!stepPerformance[stepName]) stepPerformance[stepName] = { correct:0, total:0 };
        stepPerformance[stepName].total++;

        if(correct){
            userScore++;
            stepPerformance[stepName].correct++;
            el.classList.remove('opacity-50');
            el.classList.add('correct-blink', 'border-teal-500', 'bg-teal-50');
            domRefs.quizFeedback.innerHTML = `ğŸ‰ ç­”å°äº†ï¼ ${q.feedback_correct || ""}`;
            domRefs.quizFeedback.className = "mt-8 p-6 text-center rounded-2xl font-bold border-2 bg-teal-50 text-teal-700 border-teal-500 fade-in";
        } else {
            el.classList.remove('opacity-50');
            el.classList.add('incorrect-shake', 'border-red-500', 'bg-red-50');
            const correctEl = domRefs.quizOptions.querySelector(`[data-index="${q.correctAnswerIndex}"]`);
            if(correctEl) {
                correctEl.classList.remove('opacity-50');
                correctEl.classList.add('border-teal-500', 'bg-teal-50');
            }
            domRefs.quizFeedback.innerHTML = `âŒ ç­”éŒ¯äº†... ${q.feedback_incorrect || ""}`;
            domRefs.quizFeedback.className = "mt-8 p-6 text-center rounded-2xl font-bold border-2 bg-red-50 text-red-700 border-red-500 fade-in";
        }

        domRefs.scoreBadge.textContent = `ç›®å‰å¾—åˆ†: ${userScore} åˆ†`;
        domRefs.quizFeedback.classList.remove('hidden');
        domRefs.mainActionBtn.disabled = false;
        domRefs.mainActionBtn.textContent = currentQuestionIndex < currentQuestions.length-1 ? 'ç¹¼çºŒä¸‹ä¸€é¡Œ â†’' : 'æŸ¥çœ‹æœ€çµ‚åˆ†æå ±å‘Šï¼';
        reportHeight();
    }

    function handleMainAction(){
        if(currentQuestionIndex < currentQuestions.length - 1){
            currentQuestionIndex++; 
            displayQuestion();
        } else {
            showResults();
        }
    }

    function showResults(){
        domRefs.quizContainer.classList.add('hidden');
        domRefs.progressSection.classList.add('hidden');
        domRefs.resultContainer.classList.remove('hidden');
        domRefs.mainTitle.innerHTML = "ğŸ æ¸¬é©—çµæœåˆ†æå ±å‘Š";
        
        const total = currentQuestions.length;
        const percent = Math.round((userScore/total)*100);
        const data = selectedQuizType === 'problem' ? PROBLEM_DATA : SOLUTION_DATA;

        let analysisHTML = `<div class="grid gap-4 mt-8">`;
        data.forEach(step => {
            const perf = stepPerformance[step.name] || {correct:0, total:0};
            const accuracy = perf.total > 0 ? (perf.correct / perf.total * 100) : 0;
            let icon = 'ğŸŸ¢', rowCls = 'bg-white border-teal-100';
            if(accuracy < 50){ icon='ğŸ”´'; rowCls='bg-white border-red-100'; } 
            else if(accuracy < 100){ icon='ğŸŸ¡'; rowCls='bg-white border-amber-100'; }
            
            analysisHTML += `
                <div class="flex items-center justify-between p-5 rounded-2xl border-2 ${rowCls} shadow-sm">
                    <div class="flex items-center">
                        <span class="mr-4 text-2xl">${icon}</span>
                        <span class="font-bold text-gray-700">${step.id}. ${step.name}</span>
                    </div>
                    <span class="font-black text-gray-600 text-lg">${accuracy.toFixed(0)}%</span>
                </div>
            `;
        });
        analysisHTML += '</div>';

        domRefs.resultContainer.innerHTML = `
            <div class="bg-white rounded-[2.5rem] shadow-xl border border-gray-100 p-8 md:p-12 text-center mb-8">
                <div class="text-7xl font-black text-gray-800 mb-2">${userScore} / ${total}</div>
                <div class="text-sm font-bold text-teal-600 tracking-widest uppercase mb-10">Final Score Report</div>
                
                <h3 class="text-xl font-bold text-gray-800 mb-2 text-left flex items-center">
                    <span class="mr-2">ğŸ§ </span> å„æ­¥é©ŸçŸ¥è­˜å¼±é»åˆ†æ
                </h3>
                <p class="text-left text-gray-400 text-xs mb-4">é¡è‰²ä»£è¡¨ç†Ÿæ‚‰ç¨‹åº¦ï¼šç¶ (å„ª)ã€é»ƒ(å¹³)ã€ç´…(éœ€è£œå¼·)</p>
                ${analysisHTML}
                <button onclick="location.reload()" class="w-full mt-12 py-5 rounded-2xl bg-teal-600 text-white font-black text-xl shadow-lg hover:bg-teal-700 transition-all shadow-teal-100">
                    ğŸ”„ é‡æ–°é–‹å§‹æŒ‘æˆ°
                </button>
            </div>
        `;
        reportHeight();
    }

    async function updateTime() {
        const el = document.getElementById('last-updated-text');
        if(!el) return;
        try {
            const res = await fetch(`https://api.github.com/repos/YuTien0627/QCC/commits?per_page=1`);
            if(res.ok){
                const data = await res.json();
                const d = new Date(data[0].commit.committer.date);
                el.textContent = "æœ€å¾Œæ›´æ–°æ™‚é–“ï¼š" + d.toLocaleString('zh-TW', {hour12:false}).replace(/\//g,'-');
            }
        } catch(e) {}
    }

    // å•Ÿå‹•
    window.addEventListener('load', initializeApp);
    window.addEventListener('resize', reportHeight);
    setInterval(reportHeight, 1500);

</script>
</body>
</html>
