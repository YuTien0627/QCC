<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å“ç®¡åœˆï¼ˆQCCï¼‰æ–°æ‰‹å…¥é–€äº’å‹•æŒ‡å—</title>
    <!-- è¼‰å…¥ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- è¨­ç½®å­—é«”ç‚º Inter -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #ecfdf5;
        }
        .section-title {
            border-left: 6px solid #0d9488;
            padding-left: 0.75rem;
            transition: all 0.3s ease-in-out;
        }
        .nav-button {
            transition: all 0.3s ease-in-out;
            border-bottom: 3px solid transparent;
        }
        .nav-button.active {
            color: #0d9488;
            border-color: #0d9488;
            font-weight: 700;
        }
        .ai-chat-response {
            white-space: pre-wrap;
        }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0d9488;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #backToTopBtn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
            cursor: pointer;
            width: 3rem;
            height: 3rem;
        }
        #backToTopBtn.show {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="antialiased">

    <!-- ä¸»è¦å®¹å™¨ -->
    <div class="max-w-6xl mx-auto p-4 sm:p-6 lg:p-8">

        <!-- æ¨™é¡Œå€å¡Šï¼ˆå›ºå®šæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼‰ -->
        <header id="header" class="text-center py-10 bg-white shadow-xl rounded-xl mb-6 border-t-8 border-teal-600">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-900 mb-2">å“ç®¡åœˆï¼ˆQCCï¼‰æ–°æ‰‹å…¥é–€äº’å‹•æŒ‡å—</h1>
            <p class="text-xl text-gray-500">å¾æ¦‚å¿µåˆ°å¯¦è¸ï¼Œå“è³ªæ”¹å–„çš„æ—…ç¨‹ç”±æ­¤é–‹å§‹ï¼</p>
        </header>

        <!-- å°èˆªé ç±¤ï¼ˆå›ºå®šæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼‰ -->
        <nav class="sticky top-0 z-10 flex justify-center bg-white p-2 rounded-xl shadow-lg mb-8 space-x-4">
            <button id="nav-btn-home"
                    onclick="goHome()"
                    class="nav-button active text-lg px-6 py-2 text-gray-600 hover:text-teal-600 hover:border-teal-600">
                ğŸš€ é¦–é  (æ´»å‹•ç¸½è¦½)
            </button>

            <button id="nav-btn-form"
                    onclick="loadPage('æ›¸é¢æ ¼å¼_å•é¡Œå‹.html')"
                    class="nav-button text-lg px-6 py-2 text-gray-600 hover:text-teal-600 hover:border-teal-600">
                ğŸ“ æ›¸é¢æ ¼å¼ (QC Story)
            </button>

            <button id="nav-btn-tools"
                    onclick="goToTools()"
                    class="nav-button text-lg px-6 py-2 text-gray-600 hover:text-teal-600 hover:border-teal-600">
                ğŸ› ï¸ åƒè€ƒè³‡æ–™ (å“ç®¡å·¥å…·)
            </button>
        </nav>

        <!-- å…§æ–‡å€ï¼šæœƒéš¨é ç±¤åˆ‡æ›çš„éƒ¨åˆ† -->

        <!-- é¦–é å…§å®¹ï¼šå®Œæ•´é¦–é ï¼ˆQCCä»‹ç´¹ã€äº”å¤§é¡å‹ã€æ›¸é¢æ ¼å¼é‡é»ã€å·¥å…·ç¸½è¦½ï¼‰ -->
        <main id="page-home" class="space-y-12 mb-10">

            <!-- å€å¡Š A: ä»€éº¼æ˜¯å“ç®¡åœˆï¼ˆQCCï¼‰ï¼Ÿ -->
            <section id="what-is-qcc" class="bg-white p-6 sm:p-8 rounded-xl shadow-lg border-l-4 border-teal-500 hover:shadow-2xl transition duration-300">
                <h2 class="section-title text-2xl font-bold text-gray-800 mb-4" data-section-title="ä»€éº¼æ˜¯å“ç®¡åœˆï¼ˆQCCï¼‰ï¼Ÿ">1. ä»€éº¼æ˜¯å“ç®¡åœˆï¼ˆQCCï¼‰ï¼Ÿ</h2>
                <div class="text-gray-600 leading-relaxed space-y-4">
                    <p>å“ç®¡åœˆï¼ˆQuality Control Circle, QCCï¼‰æ˜¯ä¸€ç¨®æŒçºŒæ”¹å–„æ´»å‹•ï¼Œé¼“å‹µ<strong class="font-semibold text-teal-600">åŸºå±¤åŒä»</strong>çµ„æˆå°çµ„ï¼Œå…±åŒé‹ç”¨å„ç¨®å“ç®¡å·¥å…·å’Œæ‰‹æ³•ï¼Œä»¥ç³»çµ±æ€§çš„æ­¥é©Ÿè§£æ±ºå·¥ä½œç¾å ´çš„å•é¡Œï¼Œæˆ–é”æˆç‰¹å®šçš„æ”¹å–„ç›®æ¨™ã€‚</p>
                    <p>å®ƒä¸åƒ…æ˜¯ä¸€ç¨®ç®¡ç†å·¥å…·ï¼Œæ›´æ˜¯ä¸€ç¨®<strong class="font-semibold text-teal-600">å“è³ªæ–‡åŒ–</strong>çš„é¤Šæˆéç¨‹ã€‚é€éé€™æ¨£çš„æ´»å‹•ï¼Œèƒ½åŸ¹é¤ŠåŒä»çš„å“ç®¡æ„è­˜ã€åœ˜éšŠåˆä½œèƒ½åŠ›ï¼Œé€²è€ŒæŒçºŒä¸æ–·åœ°æå‡æœå‹™å“è³ªèˆ‡å·¥ä½œæ•ˆç‡ã€‚</p>
                </div>
                <div class="mt-8 pt-4 border-t border-gray-200">
                    <h4 class="font-semibold text-lg text-gray-700 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 13a2 2 0 012-2h10a2 2 0 012 2v1a2 2 0 01-2 2H7a2 2 0 01-2-2v-1z"></path></svg>
                        AI è¼”åŠ©æå•ï¼šæƒ³å•é»é—œæ–¼æœ¬ç¯€å…§å®¹å—ï¼Ÿ
                    </h4>
                    <div id="chat-what-is-qcc"></div>
                </div>
            </section>
            
            <!-- å€å¡Š B: äº”å¤§æ”¹å–„é¡å‹ -->
            <section id="tool-selection" class="bg-white p-6 sm:p-8 rounded-xl shadow-lg border-l-4 border-teal-500 hover:shadow-2xl transition duration-300">
                <h2 class="section-title text-2xl font-bold text-gray-800 mb-4" data-section-title="é‹ç”¨åˆé©çš„å“ç®¡å·¥å…·è§£æ±ºå•é¡Œï¼ˆäº”å¤§æ”¹å–„é¡å‹ï¼‰">2. é‹ç”¨åˆé©çš„å“ç®¡å·¥å…·è§£æ±ºå•é¡Œï¼ˆäº”å¤§æ”¹å–„é¡å‹ï¼‰</h2>
                <p class="text-gray-600 mb-6">å“è³ªæ”¹å–„æ´»å‹•æ‡‰ä¾æ“šå•é¡Œçš„æ€§è³ªã€ç™¼ç”Ÿæ™‚æ©Ÿèˆ‡ç›®æ¨™ï¼Œé¸æ“‡æœ€åˆé©çš„æ‰‹æ³•å’Œå·¥å…·ï¼Œä»¥é”åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚</p>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="border-t-4 border-red-500 bg-red-50 p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
                        <h3 class="font-bold text-xl text-red-700 mb-2">1. å•é¡Œè§£æ±ºå‹ï¼ˆå›æº¯ï¼‰</h3>
                        <p class="text-sm font-semibold text-red-600 mb-2">è™•ç†å·²ç™¼ç”Ÿçš„è² é¢è½å·®ã€‚</p>
                        <p class="text-sm text-gray-600">
                            é©ç”¨æ–¼<strong class="font-semibold">ã€Œç¾ç‹€èˆ‡æ‡‰æœ‰ç‹€æ…‹ã€ä¹‹é–“å­˜åœ¨è² é¢è½å·®</strong>çš„æƒ…æ³ã€‚ç›®æ¨™æ˜¯è§£æ±ºå·²ç¶“ç™¼ç”Ÿçš„å•é¡Œï¼Œæ¶ˆé™¤ä¸è‰¯ã€éŒ¯èª¤æˆ–ä½æ•ˆç‡ã€‚
                        </p>
                    </div>
                    <div class="border-t-4 border-blue-500 bg-blue-50 p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
                        <h3 class="font-bold text-xl text-blue-700 mb-2">2. èª²é¡Œé”æˆå‹ï¼ˆå‰µæ–°å‹ï¼‰</h3>
                        <p class="text-sm font-semibold text-blue-600 mb-2">è™•ç†ç¾ç‹€èˆ‡ç†æƒ³ç‹€æ…‹çš„æ­£é¢å·®è·ã€‚</p>
                        <p class="text-sm text-gray-600">ç›®æ¨™æ˜¯é”æˆæ›´é«˜å±¤æ¬¡çš„æŒ‘æˆ°æ€§ç›®æ¨™ï¼Œé€²è¡Œå‰µæ–°æˆ–çªç ´ç¾ç‹€ã€‚</p>
                    </div>
                    <div class="border-t-4 border-green-500 bg-green-50 p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
                        <h3 class="font-bold text-xl text-green-700 mb-2">3. é å…ˆé˜²ç¯„å‹ï¼ˆä¸»å‹•é é˜²ï¼‰</h3>
                        <p class="text-sm font-semibold text-green-600 mb-2">é æ¸¬ä¸¦æ¶ˆé™¤æ½›åœ¨çš„å¤±æ•—æ¨¡å¼ (å¦‚ HFMEA)ã€‚</p>
                        <p class="text-sm text-gray-600">ç³»çµ±æ€§åœ°åˆ†æ<strong class="font-semibold">æ–°æµç¨‹æˆ–é«˜é¢¨éšªæµç¨‹</strong>ä¸­æ‰€æœ‰æ½›åœ¨çš„å¤±æ•—æ¨¡å¼ã€‚</p>
                    </div>
                    <div class="border-t-4 border-purple-500 bg-purple-50 p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
                        <h3 class="font-bold text-xl text-purple-700 mb-2">4. å›æº¯å‹ï¼ˆåš´é‡äº‹ä»¶åˆ†æï¼‰</h3>
                        <p class="text-sm font-semibold text-purple-600 mb-2">é‡å°å·²ç™¼ç”Ÿåš´é‡äº‹ä»¶è¿½æº¯åŸå›  (å¦‚ RCA)ã€‚</p>
                        <p class="text-sm text-gray-600">é‡å°<strong class="font-semibold">å·²ç™¼ç”Ÿæˆ–è¿‘ä¹ç™¼ç”Ÿçš„åš´é‡äº‹ä»¶</strong>é€²è¡Œæ·±å…¥ã€ç³»çµ±æ€§çš„åˆ†æã€‚</p>
                    </div>
                    <div class="border-t-4 border-yellow-500 bg-yellow-50 p-4 rounded-lg shadow-md hover:shadow-lg transition duration-300">
                        <h3 class="font-bold text-xl text-yellow-700 mb-2">5. æµç¨‹å„ªåŒ–èˆ‡æ”¹é€ ï¼ˆæ•ˆç‡ï¼‰</h3>
                        <p class="text-sm font-semibold text-yellow-600 mb-2">è‘—é‡æ–¼æ•ˆç‡ã€æˆæœ¬æˆ–å‹•ç·šçš„æ”¹å–„ (IE æ€ç¶­)ã€‚</p>
                        <p class="text-sm text-gray-600">å°ç¾æœ‰ä½œæ¥­æµç¨‹é€²è¡Œè¨ºæ–·ï¼Œæ‰¾å‡º<strong class="font-semibold">æµç¨‹ä¸­çš„æµªè²»ã€ç“¶é ¸</strong>ã€‚</p>
                    </div>
                </div>
                <div class="mt-8 pt-4 border-t border-gray-200">
                    <h4 class="font-semibold text-lg text-gray-700 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2m-3 10h.01M9 19v2m6-2v2M5 13a2 2 0 012-2h10a2 2 0 012 2v1a2 2 0 01-2 2H7a2 2 0 01-2-2v-1z"></path></svg>
                        AI è¼”åŠ©æå•ï¼šæƒ³å•é»é—œæ–¼æœ¬ç¯€å…§å®¹å—ï¼Ÿ
                    </h4>
                    <div id="chat-tool-selection"></div>
                </div>
            </section>
            
            <!-- å€å¡Š C: æ›¸é¢æ ¼å¼é‡é» -->
            <section id="qcc-steps" class="bg-white p-6 sm:p-8 rounded-xl shadow-lg border-l-4 border-fuchsia-500 mt-12">
                <h2 class="section-title text-2xl font-bold text-gray-800 mb-4" data-section-title="å“ç®¡æ”¹å–„æ­¥é©Ÿèˆ‡æ›¸é¢æ ¼å¼é‡é»">ğŸ“ å“ç®¡æ”¹å–„æ­¥é©Ÿèˆ‡æ›¸é¢æ ¼å¼é‡é» (QC Story)</h2>
                <p class="text-gray-600 mb-6">å•é¡Œè§£æ±ºå‹å“ç®¡åœˆé€šå¸¸éµå¾ªä»¥ä¸‹åå€‹æ¨™æº–æ­¥é©Ÿï¼Œé€™ä¹Ÿæ˜¯æ‚¨æ’°å¯«å ±å‘Šæ™‚çš„éª¨å¹¹çµæ§‹ã€‚</p>
                
                <div class="overflow-x-auto rounded-lg shadow-md border-2 border-fuchsia-100">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-fuchsia-50">
                            <tr>
                                <th class="px-3 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider w-1/12">No.</th>
                                <th class="px-3 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider w-3/12">æ­¥é©Ÿåç¨±</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider w-5/12">æ›¸é¢å ±å‘Šé‡é» (What to Write)</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider w-3/12">é—œéµå·¥å…·</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200 text-sm text-gray-700">
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">1</td>
                                <td class="px-3 py-4 whitespace-nowrap">çµ„åœˆèˆ‡ä¸»é¡Œé¸å®š</td>
                                <td class="px-6 py-4">èªªæ˜åœ˜éšŠæˆå“¡ã€åœˆåã€é¸å®šä¸»é¡Œçš„ç†ç”±ï¼ˆæ€¥è¿«æ€§ã€é‡è¦æ€§ï¼‰ã€‚</td>
                                <td class="px-6 py-4">è…¦åŠ›æ¿€ç›ªã€è¦ªå’Œåœ–</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">2</td>
                                <td class="px-3 py-4 whitespace-nowrap">è¨‚å®šæ´»å‹•è¨ˆç•«</td>
                                <td class="px-6 py-4">å‘ˆç¾ç”˜ç‰¹åœ–æˆ–æ™‚ç¨‹è¡¨ï¼Œæ¨™è¨»å„æ­¥é©Ÿé è¨ˆå®Œæˆæ™‚é–“èˆ‡åˆ†å·¥ã€‚</td>
                                <td class="px-6 py-4">ç³»çµ±åœ–ã€ç®­ç·šåœ–</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">3</td>
                                <td class="px-3 py-4 whitespace-nowrap">ç¾æ³æŠŠæ¡</td>
                                <td class="px-6 py-4">
                                    ç”¨æ•¸æ“šè­‰æ˜å•é¡Œåš´é‡æ€§ï¼Œä½¿ç”¨æŸæ‹‰åœ–ç¢ºç«‹
                                    <strong class="font-semibold">æ”»å …é‡é»</strong>ã€‚
                                </td>
                                <td class="px-6 py-4">æŸ¥æª¢è¡¨ã€æŸæ‹‰åœ–ã€å±¤åˆ¥æ³•</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">4</td>
                                <td class="px-3 py-4 whitespace-nowrap">ç›®æ¨™è¨­å®š</td>
                                <td class="px-6 py-4">
                                    è¨­å®šå…·é«”ã€å¯é‡åŒ–ã€å¯é”æˆï¼ˆ<strong>SMART</strong> åŸå‰‡ï¼‰çš„ç›®æ¨™å€¼ã€‚
                                </td>
                                <td class="px-6 py-4">åœ–è¡¨</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">5</td>
                                <td class="px-3 py-4 whitespace-nowrap">è§£æ</td>
                                <td class="px-6 py-4">ç¹ªè£½ç‰¹æ€§è¦å› åœ–ï¼Œä¸¦é‡å°ä¸»è¦è¦å› æ”¶é›†æ•¸æ“šé€²è¡Œé©—è­‰ï¼Œæ‰¾å‡º<strong class="font-semibold">çœŸå› </strong>ã€‚</td>
                                <td class="px-6 py-4">ç‰¹æ€§è¦å› åœ–ã€æ•£ä½ˆåœ–</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">6</td>
                                <td class="px-3 py-4 whitespace-nowrap">å°ç­–æ“¬å®šèˆ‡å¯¦æ–½</td>
                                <td class="px-6 py-4">åˆ—å‡ºæ‰€æœ‰å°ç­–ï¼Œèªªæ˜ç¯©é¸/è©•ä¼°æ¨™æº–ï¼Œä»¥åŠå°ç­–å¯¦æ–½çš„è©³ç´°éç¨‹ã€‚</td>
                                <td class="px-6 py-4">ç³»çµ±åœ–ã€çŸ©é™£åœ–ã€PDPC</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">7</td>
                                <td class="px-3 py-4 whitespace-nowrap">æ•ˆæœç¢ºèª</td>
                                <td class="px-6 py-4">æ¯”è¼ƒæ”¹å–„å‰å¾Œæ•¸æ“šï¼ˆæœ‰å½¢æˆæœï¼‰å’Œåœˆå“¡æˆé•·ï¼ˆç„¡å½¢æˆæœï¼‰ï¼Œèˆ‡ç›®æ¨™å€¼å°ç…§ã€‚</td>
                                <td class="px-6 py-4">åœ–è¡¨ã€ç®¡åˆ¶åœ–</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">8</td>
                                <td class="px-3 py-4 whitespace-nowrap">æ¨™æº–åŒ–</td>
                                <td class="px-6 py-4">æå‡ºå°‡æœ‰æ•ˆçš„å°ç­–ç´å…¥ SOP æˆ–è¦ç¯„çš„æ–‡ä»¶åŒ–èªªæ˜ã€‚</td>
                                <td class="px-6 py-4">æµç¨‹åœ–ã€æ–‡ä»¶åŒ–</td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-3 py-4 font-medium text-fuchsia-600">9</td>
                                <td class="px-3 py-4 whitespace-nowrap">æ®˜ç•™å•é¡Œèˆ‡æœªä¾†å±•æœ›</td>
                                <td class="px-6 py-4">è‡ªæˆ‘æª¢è¨æ´»å‹•éç¨‹ï¼Œèªªæ˜æœªé”æˆçš„ç›®æ¨™æˆ–å¾…æŒçºŒæ”¹å–„çš„æ–¹å‘ã€‚</td>
                                <td class="px-6 py-4">æª¢è¨æœƒ</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="text-xl font-bold text-fuchsia-700 mt-8 mb-3">ğŸ“„ å ±å‘Šæ’°å¯«æŠ€å·§ï¼š</h3>
                <ul class="list-disc list-outside ml-5 space-y-2 text-gray-600">
                    <li><strong>è¦–è¦ºåŒ–å„ªå…ˆï¼š</strong>ç›¡é‡ä½¿ç”¨åœ–è¡¨ã€ç…§ç‰‡ä¾†ä»£æ›¿æ–‡å­—ï¼Œä½¿å¯©æŸ¥è€…èƒ½å¿«é€ŸæŒæ¡é‡é»ã€‚</li>
                    <li><strong>æ•¸æ“šèªªè©±ï¼š</strong>æ‰€æœ‰çµè«–éƒ½å¿…é ˆæœ‰æ•¸æ“šï¼ˆæŸ¥æª¢è¡¨ã€æŸæ‹‰åœ–ç­‰ï¼‰ä½œç‚ºä½è­‰ã€‚</li>
                    <li><strong>éµå¾ªæµç¨‹ï¼š</strong>å ±å‘Šçš„ç« ç¯€å’Œé †åºå¿…é ˆåš´æ ¼éµå¾ª QC Story çš„æ­¥é©Ÿã€‚</li>
                    <li><strong>ç°¡æ½”æœ‰åŠ›ï¼š</strong>é¿å…éå¤šä¸å¿…è¦çš„è´…è¿°ï¼Œæ¯å€‹æ­¥é©Ÿèšç„¦æ–¼æ ¸å¿ƒç”¢å‡ºã€‚</li>
                </ul>
                <div class="mt-8 pt-4 border-t border-gray-200">
                    <h4 class="font-semibold text-lg text-gray-700 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        AI è¼”åŠ©æå•ï¼šæƒ³å•é»é—œæ–¼æ ¼å¼å—ï¼Ÿ
                    </h4>
                    <div id="chat-qcc-format"></div>
                </div>
            </section>

            <!-- å€å¡Š D: åƒè€ƒè³‡æ–™ï¼ˆå·¥å…·ï¼‰ -->
            <section id="qc-tools" class="bg-white p-6 sm:p-8 rounded-xl shadow-lg border-l-4 border-cyan-500 mt-12">
                <h2 class="section-title text-2xl font-bold text-gray-800 mb-4" data-section-title="å¸¸ç”¨å“ç®¡å·¥å…·ç¸½è¦½">ğŸ› ï¸ å¸¸ç”¨å“ç®¡å·¥å…·ç¸½è¦½ï¼ˆQC ä¸ƒæ‰‹æ³•èˆ‡æ–°ä¸ƒæ‰‹æ³•ï¼‰</h2>
                <p class="text-gray-600 mb-6">å“ç®¡å·¥å…·æ˜¯ QCC æ´»å‹•ä¸­ç”¨ä¾†æ”¶é›†ã€æ•´ç†ã€åˆ†ææ•¸æ“šèˆ‡è³‡è¨Šçš„è¼”åŠ©æ‰‹æ®µã€‚æ­£ç¢ºä½¿ç”¨å®ƒå€‘èƒ½å¤§å¤§æé«˜æ”¹å–„æ•ˆç‡ï¼</p>

                <h3 class="font-bold text-xl text-teal-700 mb-3 border-b pb-1">èˆŠQCä¸ƒæ‰‹æ³•ï¼ˆQC 7 Toolsï¼‰- æ•¸æ“šåˆ†æèˆ‡çµ±è¨ˆ</h3>
                <div class="overflow-x-auto rounded-lg shadow-md mb-8 border-2 border-teal-100">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-teal-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">å·¥å…·åç¨±</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">ä¸»è¦åŠŸèƒ½ï¼ˆç”¨é€”ï¼‰</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">é©ç”¨æ­¥é©Ÿ</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200 text-sm text-gray-700">
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">æŸæ‹‰åœ– (Pareto Chart)</td><td class="px-6 py-4">æ‰¾å‡ºå½±éŸ¿æœ€å¤§çš„ã€Œé‡è¦å°‘æ•¸ã€ï¼ˆ80/20æ³•å‰‡ï¼‰ã€‚</td><td class="px-6 py-4">ç¾æ³æŠŠæ¡ã€æ•ˆæœç¢ºèª</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">ç‰¹æ€§è¦å› åœ– (Fishbone)</td><td class="px-6 py-4">ç³»çµ±æ€§æ•´ç†å•é¡Œçš„æ‰€æœ‰å¯èƒ½åŸå› ï¼ˆæ‰¾å‡ºè¦å› ï¼‰ã€‚</td><td class="px-6 py-4">è§£æ</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">æŸ¥æª¢è¡¨ (Check Sheet)</td><td class="px-6 py-4">ç³»çµ±æ€§åœ°æ”¶é›†æ•¸æ“šã€è¨˜éŒ„æ¬¡æ•¸ã€‚</td><td class="px-6 py-4">ç¾æ³æŠŠæ¡ã€æ•ˆæœç¢ºèª</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">å±¤åˆ¥æ³• (Stratification)</td><td class="px-6 py-4">å°‡æ•¸æ“šæŒ‰ä¸åŒå±¬æ€§åˆ†é¡ï¼Œé‡æ¸…å•é¡Œçš„ç™¼ç”Ÿæºã€‚</td><td class="px-6 py-4">ç¾æ³æŠŠæ¡ã€è§£æ</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">æ•£ä½ˆåœ– (Scatter Diagram)</td><td class="px-6 py-4">åˆ†æå…©çµ„æ•¸æ“šä¹‹é–“æ˜¯å¦å­˜åœ¨ç›¸é—œæ€§ã€‚</td><td class="px-6 py-4">è§£æ</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">ç®¡åˆ¶åœ– (Control Chart)</td><td class="px-6 py-4">ç›£æ§éç¨‹æ˜¯å¦è™•æ–¼ç©©å®šç‹€æ…‹ï¼Œç”¨æ–¼é•·æœŸå“è³ªç¶­æŒã€‚</td><td class="px-6 py-4">æ•ˆæœç¢ºèªã€æ¨™æº–åŒ–</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">ç›´æ–¹åœ– (Histogram)</td><td class="px-6 py-4">é¡¯ç¤ºæ•¸æ“šçš„åˆ†ä½ˆå½¢æ…‹èˆ‡é›†ä¸­è¶¨å‹¢ã€‚</td><td class="px-6 py-4">ç¾æ³æŠŠæ¡ã€æ•ˆæœç¢ºèª</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="font-bold text-xl text-blue-700 mb-3 border-b pb-1">æ–°QCä¸ƒæ‰‹æ³•ï¼ˆNew QC 7 Toolsï¼‰- èªè¨€è³‡æ–™æ•´ç†èˆ‡å‰µæ–°</h3>
                <div class="overflow-x-auto rounded-lg shadow-md border-2 border-blue-100">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-blue-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">å·¥å…·åç¨±</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">ä¸»è¦åŠŸèƒ½ï¼ˆç”¨é€”ï¼‰</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider">é©ç”¨æ­¥é©Ÿ</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200 text-sm text-gray-700">
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">è¦ªå’Œåœ– (Affinity Diagram)</td><td class="px-6 py-4">æ•´ç†å¤§é‡ç™¼æ•£çš„èªè¨€è³‡æ–™/æƒ³æ³•ï¼Œé€²è¡Œåˆ†çµ„æ­¸ç´ã€‚</td><td class="px-6 py-4">ä¸»é¡Œé¸å®šã€è§£æ</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">é—œè¯åœ– (Relation Diagram)</td><td class="px-6 py-4">é‡æ¸…è¤‡é›œå•é¡Œä¸­ï¼Œå„å› ç´ ä¹‹é–“ç³¾çµçš„å› æœé—œä¿‚ã€‚</td><td class="px-6 py-4">è§£æï¼ˆè¤‡é›œåŸå› åˆ†æï¼‰</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">ç³»çµ±åœ– (Systematic Diagram)</td><td class="px-6 py-4">å°‡ç›®æ¨™ç³»çµ±æ€§åœ°åˆ†è§£ç‚ºé”æˆè©²ç›®æ¨™æ‰€éœ€è¦çš„æ‰‹æ®µã€‚</td><td class="px-6 py-4">å°ç­–æ“¬å®šã€è¨‚å®šæ´»å‹•è¨ˆç•«</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">çŸ©é™£åœ– (Matrix Diagram)</td><td class="px-6 py-4">åˆ†æå…©çµ„è¦ç´ ä¹‹é–“çš„ç›¸äº’é—œä¿‚èˆ‡å¼·åº¦ã€‚</td><td class="px-6 py-4">å°ç­–æ“¬å®š</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">éç¨‹æ±ºç­–è¨ˆç•«åœ– (PDPC)</td><td class="px-6 py-4">é æ¸¬è¨ˆç•«å¯¦æ–½ä¸­å¯èƒ½ç™¼ç”Ÿçš„å•é¡Œï¼Œé å…ˆæº–å‚™æ‡‰è®Šæªæ–½ï¼ˆé¢¨éšªé é˜²ï¼‰ã€‚</td><td class="px-6 py-4">å°ç­–å¯¦æ–½</td></tr>
                            <tr class="hover:bg-gray-50"><td class="px-6 py-4 font-medium whitespace-nowrap">ç®­ç·šåœ–æ³• (Arrow Diagram)</td><td class="px-6 py-4">è¦åŠƒè¤‡é›œå·¥ä½œçš„æ™‚ç¨‹ï¼Œæ‰¾å‡ºé—œéµè·¯å¾‘ï¼Œæ§åˆ¶é€²åº¦ã€‚</td><td class="px-6 py-4">è¨‚å®šæ´»å‹•è¨ˆç•«</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="mt-8 pt-4 border-t border-gray-200">
                    <h4 class="font-semibold text-lg text-gray-700 mb-3 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        AI è¼”åŠ©æå•ï¼šæƒ³å•é»é—œæ–¼å·¥å…·å—ï¼Ÿ
                    </h4>
                    <div id="chat-qc-tools"></div>
                </div>
            </section>

        </main>

        <!-- æ›¸é¢æ ¼å¼ / åƒè€ƒè³‡æ–™ å…±ç”¨ iframe å€ -->
        <section id="page-form" class="hidden mb-10">
            <div class="w-full h-[85vh] border rounded-lg overflow-hidden shadow">
                <iframe id="content-frame" src="" class="w-full h-full" frameborder="0"></iframe>
            </div>
        </section>

        <!-- é å°¾ï¼ˆå›ºå®šæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼‰ -->
        <footer class="text-center py-6 mt-10 text-sm border-t border-gray-300 flex justify-between items-center">
            <p class="text-gray-500">å“è³ªæ”¹å–„æ˜¯ä¸€æ®µæŒçºŒçš„æ—…ç¨‹ã€‚ç¥æ‚¨çš„å“ç®¡åœˆæ´»å‹•é †åˆ©æˆåŠŸï¼</p>
            <div class="text-right text-gray-700 font-medium">
                <p>å¥‡ç¾é†«é™¢ å“è³ªç®¡ç†éƒ¨ é†«ç™‚å“è³ªç§‘ è£½ä½œ</p>
                <p class="text-xs text-gray-500" id="last-updated">æœ€å¾Œæ›´æ–°æ—¥æœŸ: 2025å¹´12æœˆ01æ—¥</p>
            </div>
        </footer>

    </div>
    
    <!-- å¿«é€Ÿå›åˆ°é ‚ç«¯æŒ‰éˆ• -->
    <button id="backToTopBtn" 
            class="bg-teal-600 hover:bg-teal-700 text-white shadow-xl 
                   p-3 rounded-full flex items-center justify-center 
                   focus:outline-none focus:ring-4 focus:ring-teal-300 active:bg-teal-800 
                   transform hover:scale-105 transition duration-200"
            aria-label="å¿«é€Ÿå›åˆ°é ‚ç«¯">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M5 10l7-7m0 0l7 7m-7-7v18" />
        </svg>
    </button>

    <script>
        // ========== å°å·¥å…·ï¼šåˆ‡æ› nav active ==========
        function setActive(buttonId) {
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            const btn = document.getElementById(buttonId);
            if (btn) btn.classList.add('active');
        }

        // ========== é¦–é  / iframe é¡¯ç¤ºåˆ‡æ› ==========
        function showHomePage() {
            document.getElementById('page-home').classList.remove('hidden');
            document.getElementById('page-form').classList.add('hidden');
        }

        function showFormPage() {
            document.getElementById('page-home').classList.add('hidden');
            document.getElementById('page-form').classList.remove('hidden');
        }

        // ========== é¦–é æŒ‰éˆ•ï¼šå›åˆ°å®Œæ•´é¦–é å…§å®¹ ==========
        function goHome() {
            showHomePage();
            setActive('nav-btn-home');
            document.getElementById('header').scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        // ========== åƒè€ƒè³‡æ–™ï¼šæ”¹æˆ iframe é¡¯ç¤ºåƒè€ƒè³‡æ–™.html ==========
        function goToTools() {
            const frame = document.getElementById('content-frame');
            frame.src = 'åƒè€ƒè³‡æ–™.html';   // â˜… é€™è£¡è¼‰å…¥ä½ çš„åƒè€ƒè³‡æ–™é é¢
            showFormPage();
            setActive('nav-btn-tools');
            frame.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        // ========== æ›¸é¢æ ¼å¼ï¼šiframe é¡¯ç¤ºæ›¸é¢æ ¼å¼_å•é¡Œå‹.html ==========
        function loadPage(page) {
            const frame = document.getElementById('content-frame');
            frame.src = page;   // é€šå¸¸æ˜¯ã€Œæ›¸é¢æ ¼å¼_å•é¡Œå‹.htmlã€
            showFormPage();
            setActive('nav-btn-form');
            frame.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }

        // ========== AI åŠ©ç†ç›¸é—œ ==========
        const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent";
        const apiKey = "";

        async function fetchLLMResponse(contents, systemInstruction, maxRetries = 3) {
            const payload = {
                contents: contents,
                systemInstruction: { parts: [{ text: systemInstruction }] },
            };

            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(`${API_URL}?key=${apiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        if (response.status === 429 && i < maxRetries - 1) {
                            const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                            await new Promise(resolve => setTimeout(resolve, delay));
                            continue;
                        }
                        throw new Error(`API request failed with status ${response.status}`);
                    }

                    const result = await response.json();
                    const text = result.candidates?.[0]?.content?.parts?.[0]?.text || 'æŠ±æ­‰ï¼ŒAI åœ¨è™•ç†æ™‚ç™¼ç”Ÿäº†éŒ¯èª¤ã€‚';
                    return text;

                } catch (error) {
                    console.error("LLM API Error:", error);
                    if (i === maxRetries - 1) {
                        return 'æŠ±æ­‰ï¼Œç„¡æ³•é€£æ¥åˆ° AI æœå‹™ã€‚è«‹ç¨å¾Œå†è©¦ã€‚';
                    }
                }
            }
        }

        function initializeChat(containerId, sectionTitle) {
            const container = document.getElementById(containerId);
            if (!container) return;

            let chatHistory = [];
            let isThinking = false;

            container.innerHTML = `
                <div class="chat-display bg-gray-100 p-4 rounded-lg h-48 overflow-y-auto mb-4 border border-teal-200">
                    <div class="message text-sm text-gray-600 mb-2">
                        <span class="font-bold text-teal-600">AI åŠ©ç†ï¼š</span> æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„å“ç®¡åŠ©ç†ï¼Œè«‹é‡å°<strong class="text-teal-700">ã€${sectionTitle}ã€</strong>æå‡ºå•é¡Œã€‚
                    </div>
                </div>
                <div class="chat-input flex space-x-2">
                    <input type="text" placeholder="è¼¸å…¥æ‚¨çš„å•é¡Œ..." class="chat-text-input flex-grow p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm">
                    <button class="chat-send-button bg-teal-600 text-white p-2 rounded-lg hover:bg-teal-700 transition duration-150 ease-in-out font-medium text-sm disabled:opacity-50 flex items-center justify-center w-20">
                        ç™¼å•
                    </button>
                </div>
            `;

            const chatDisplay = container.querySelector('.chat-display');
            const chatInput = container.querySelector('.chat-text-input');
            const sendButton = container.querySelector('.chat-send-button');

            const systemInstruction = `ä½ æ˜¯ä¸€ä½å‹å–„ã€å…·å‚™æ•™å­¸ç†±å¿±çš„å“ç®¡å°ˆå®¶ã€‚è«‹æ ¹æ“šã€${sectionTitle}ã€çš„ä¸»é¡Œï¼Œå›ç­”ä½¿ç”¨è€…çš„æå•ã€‚ä½ çš„å›ç­”å¿…é ˆç°¡æ½”ã€å°ˆæ¥­ä¸”å¯Œæœ‰å•Ÿç™¼æ€§ã€‚`;

            const addMessage = (sender, text, isAi = false) => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `flex ${isAi ? 'justify-start' : 'justify-end'} mb-2`;

                const contentDiv = document.createElement('div');
                contentDiv.className = `message text-sm p-2 rounded-lg max-w-[90%] ${isAi ? 'bg-teal-100' : 'bg-indigo-100'}`;
                
                const senderSpan = document.createElement('span');
                senderSpan.className = `font-bold ${isAi ? 'text-teal-600' : 'text-indigo-600'}`;
                senderSpan.textContent = isAi ? 'AI åŠ©ç†ï¼š' : 'æ‚¨ï¼š';

                const textContent = document.createElement('p');
                textContent.className = 'ai-chat-response inline';
                textContent.innerHTML = text.replace(/\n/g, '<br>');

                contentDiv.appendChild(senderSpan);
                contentDiv.appendChild(textContent);
                messageDiv.appendChild(contentDiv);

                chatDisplay.appendChild(messageDiv);
                chatDisplay.scrollTop = chatDisplay.scrollHeight;
            };

            const handleSend = async () => {
                if (isThinking) return;

                const userText = chatInput.value.trim();
                if (userText === '') return;

                addMessage('user', userText, false);
                chatInput.value = '';

                isThinking = true;
                sendButton.disabled = true;
                sendButton.innerHTML = `<div class="loading-spinner"></div>`;

                const historyForApi = chatHistory.slice(-10);
                historyForApi.push({ role: "user", parts: [{ text: userText }] });

                const aiResponse = await fetchLLMResponse(historyForApi, systemInstruction);

                chatHistory.push({ role: "user", parts: [{ text: userText }] });
                chatHistory.push({ role: "model", parts: [{ text: aiResponse }] });

                addMessage('ai', aiResponse, true);

                isThinking = false;
                sendButton.disabled = false;
                sendButton.innerHTML = `ç™¼å•`;
            };

            sendButton.addEventListener('click', handleSend);
            chatInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    handleSend();
                }
            });
        }

        // ========== å›åˆ°é ‚ç«¯æŒ‰éˆ• ==========
        function setupBackToTop() {
            const backToTopBtn = document.getElementById('backToTopBtn');
            const scrollThreshold = 300; 

            window.addEventListener('scroll', function() {
                const scrolled = document.documentElement.scrollTop || document.body.scrollTop;
                if (scrolled > scrollThreshold) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            });

            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth' 
                });
            });
        }

        // ========== åˆå§‹åŒ– ==========
        window.onload = function() {
            const chatConfigs = [
                { id: 'chat-what-is-qcc', title: 'ä»€éº¼æ˜¯å“ç®¡åœˆï¼ˆQCCï¼‰ï¼Ÿ' },
                { id: 'chat-tool-selection', title: 'é‹ç”¨åˆé©çš„å“ç®¡å·¥å…·è§£æ±ºå•é¡Œï¼ˆäº”å¤§æ”¹å–„é¡å‹ï¼‰' },
                { id: 'chat-qcc-format', title: 'å“ç®¡æ”¹å–„æ­¥é©Ÿèˆ‡æ›¸é¢æ ¼å¼é‡é»' },
                { id: 'chat-qc-tools', title: 'å¸¸ç”¨å“ç®¡å·¥å…·ç¸½è¦½' }
            ];

            chatConfigs.forEach(config => {
                initializeChat(config.id, config.title);
            });

            setupBackToTop();
            setActive('nav-btn-home');
        };
    </script>

</body>
</html>
