<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å“ç®¡å·¥å…·é¸å“ªæ‹›ï¼Ÿ</title>

<script src="https://cdn.tailwindcss.com"></script>
<script>
tailwind.config = {
  theme: {
    extend: {
      fontFamily: {
        sans: ['Inter', 'Noto Sans TC', 'sans-serif'],
      },
      colors: {
        'primary-pink': '#F472B6',
        'secondary-purple': '#A78BFA',
        'goal-green': '#34D399',
        'issue-red': '#F87171',
        'card-yellow': '#FFF9C4'
      }
    }
  }
}
</script>

<style>
/* â— iframe å­é ï¼šbody ä¸€å®šè¦ä¹¾æ·¨ */
body {
  margin: 0;
  font-family: 'Inter','Noto Sans TC',sans-serif;
}
</style>
</head>

<body>

<!-- âœ… åªç•™ã€Œå…§å®¹å®¹å™¨ã€ï¼Œä¸åšç‰ˆé¢æ±ºç­– -->
<div class="space-y-8">

  <!-- æ¨™é¡Œï¼ˆindex è£¡çœ‹èµ·ä¾†æœƒåƒ section æ¨™é¡Œï¼‰ -->
  <header class="text-center">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-gray-800 mb-2">
      ğŸ› ï¸ å“ç®¡å·¥å…·é¸å“ªæ‹›ï¼Ÿè·Ÿæˆ‘èµ°ï¼ ğŸ’¡
    </h1>
    <p class="text-lg text-gray-500">
      å–®å¡æ¨¡å¼ï¼Œå°ˆæ³¨ç•¶å‰å•é¡Œï¼
    </p>
  </header>

  <!-- æ­·å²è¶³è·¡ -->
  <div id="history-trail"
       class="flex flex-wrap gap-2 justify-center min-h-[40px] border-b pb-4">
  </div>

  <!-- æ±ºç­–å¡ç‰‡ -->
  <div id="question-card-container"></div>

  <!-- é‡ç½® -->
  <div class="pt-6 border-t text-center">
    <button
      class="px-6 py-3 rounded-full bg-gray-400 text-white font-semibold hover:bg-gray-500 transition"
      onclick="navigate('Q1')">
      ğŸ”„ é‡ç½®æŒ‘æˆ°
    </button>
  </div>

</div>

<script>
/* ===== ä»¥ä¸‹ JS åŸé‚è¼¯ä¿ç•™ï¼ˆç„¡çµæ§‹å‰¯ä½œç”¨ï¼‰ ===== */

const decisionTree = {
  Q1: {
    title: "æŒ‘æˆ°é¡å‹",
    question: "æ‚¨æƒ³è™•ç†çš„æ˜¯å·²ç™¼ç”Ÿçš„å•é¡Œï¼Œé‚„æ˜¯æœªä¾†æƒ³é”æˆçš„ç›®æ¨™ï¼Ÿ",
    icon: "ğŸ¤”",
    options: [
      { text: "ç¾æœ‰ç¼ºå¤±æˆ–ç•°å¸¸ï¼ˆå•é¡Œè§£æ±ºå‹ï¼‰", next: "Q2", style: "pink" },
      { text: "æœªä¾†ç›®æ¨™æˆ–ä»»å‹™ï¼ˆèª²é¡Œé”æˆå‹ï¼‰", next: "R_GOAL", style: "purple" }
    ]
  },
  Q2: {
    title: "é é˜²æˆ–è§£æ±º",
    question: "æ˜¯å¦è¦é å…ˆè©•ä¼°æµç¨‹ä¸­æ½›åœ¨é¢¨éšªï¼Ÿ",
    icon: "ğŸ›¡ï¸",
    options: [
      { text: "æ˜¯ï¼Œé é˜²é¢¨éšª", next: "R_HFMEA", style: "purple" },
      { text: "å¦ï¼Œåˆ†ææ—¢æœ‰å•é¡Œ", next: "Q3", style: "pink" }
    ]
  },
  Q3: {
    title: "äº‹ä»¶åš´é‡æ€§",
    question: "æ˜¯å¦ç‚ºé‡å¤§ä¸è‰¯äº‹ä»¶ï¼Œéœ€è¦è¿½æŸ¥æ ¹æœ¬åŸå› ï¼Ÿ",
    icon: "ğŸ”",
    options: [
      { text: "æ˜¯ï¼Œé‡å¤§äº‹ä»¶", next: "R_RCA", style: "purple" },
      { text: "å¦ï¼Œä¸€èˆ¬å“è³ªæ”¹å–„", next: "R_QCC", style: "pink" }
    ]
  },
  R_GOAL: {
    title: "å»ºè­°æ–¹æ³•ï¼šèª²é¡Œé”æˆå‹",
    methodology: "èª²é¡Œé”æˆå‹",
    purpose: "èšç„¦æœªä¾†ç›®æ¨™èˆ‡å‰µæ–°æ–¹æ³•ã€‚"
  },
  R_HFMEA: {
    title: "å»ºè­°æ–¹æ³•ï¼šHFMEA",
    methodology: "HFMEA",
    purpose: "äº‹å‰è¾¨è­˜ä¸¦æ§åˆ¶é¢¨éšªã€‚"
  },
  R_RCA: {
    title: "å»ºè­°æ–¹æ³•ï¼šRCA",
    methodology: "RCA",
    purpose: "è¿½æŸ¥ç³»çµ±æ€§æ ¹æœ¬åŸå› ã€‚"
  },
  R_QCC: {
    title: "å»ºè­°æ–¹æ³•ï¼šQCC",
    methodology: "QCC",
    purpose: "ç³»çµ±åŒ–è§£æ±ºå•é¡Œã€‚"
  }
};

let currentStepKey = "Q1";
let history = [];

function render() {
  const trail = document.getElementById("history-trail");
  const container = document.getElementById("question-card-container");
  trail.innerHTML = history.map(h => `<span class="px-3 py-1 bg-gray-200 rounded-full text-sm">${h}</span>`).join("");

  const step = decisionTree[currentStepKey];
  if (currentStepKey.startsWith("R_")) {
    container.innerHTML = `
      <div class="bg-card-yellow p-6 rounded-xl shadow">
        <h2 class="text-2xl font-bold mb-2">${step.title}</h2>
        <p class="text-gray-700">${step.purpose}</p>
      </div>`;
    return;
  }

  container.innerHTML = `
    <div class="bg-white p-6 rounded-xl shadow space-y-6">
      <div class="text-center">
        <div class="text-5xl mb-2">${step.icon}</div>
        <h2 class="text-2xl font-bold">${step.title}</h2>
      </div>
      <p class="text-lg text-center text-gray-700">${step.question}</p>
      <div class="grid sm:grid-cols-2 gap-4">
        ${step.options.map(o => `
          <button class="px-6 py-4 rounded-xl font-semibold text-white ${o.style === 'pink' ? 'bg-pink-400' : 'bg-violet-400'}"
            onclick="next('${o.next}','${o.text}')">
            ${o.text}
          </button>`).join("")}
      </div>
    </div>`;
}

function next(nextKey, text) {
  history.push(text);
  currentStepKey = nextKey;
  render();
}

function navigate(key) {
  history = [];
  currentStepKey = key;
  render();
}

render();
</script>

</body>
</html>
